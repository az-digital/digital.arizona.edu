name: Trigger release on specific branch
run-name: Triggering release on ${{ github.event.client_payload.branch }} branch
on:
  repository_dispatch:
    types: az_bootstrap_release
jobs:
  create-release-v2:
    if: ${{ github.event.client_payload.branch }} == '2.x'
    uses: "trackleft/digital.arizona.edu/.github/workflows/release.yml@2.x"
    secrets: inherit
    with:
      sha: ${{ github.event.client_payload.sha }}
      ref: ${{ github.event.client_payload.ref }}
      version: ${{ github.event.client_payload.version }}
  create-release-v5:
    if: ${{ github.event.client_payload.branch }} == 'main'
    uses: "trackleft/digital.arizona.edu/.github/workflows/release.yml@main"
    secrets: inherit
    with:
      sha: ${{ github.event.client_payload.sha }}
      ref: ${{ github.event.client_payload.ref }}
      version: ${{ github.event.client_payload.version }}
